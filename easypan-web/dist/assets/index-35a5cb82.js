import{_ as V,V as v,e as u,h as m,o as x,c as C,i as s,w as o,j as l,m as p,a1 as E,s as _,E as i}from"./index-cd067b4e.js";const h={class:"main-setting"},w={name:"SystemSetting"},I=Object.assign(w,{setup(M){let c={registerEmailTitle:{required:!0,message:"请输入注册邮箱验证码邮件标题"},registerEmailContent:{required:!0,message:"请输入注册邮箱验证码邮件内容"},userInitSpace:[{required:!0,message:"请输入初始空间大小"},{validator:v.number,message:"空间大小只能是数字"}]},t=u({});const f=u(),g=()=>{_.get("/api/admin/getSysSettings").then(e=>{e.data.code===2005?i({showClose:!0,message:e.data.message,type:"error"}):t.value=e.data}).catch(e=>{i({showClose:!0,message:e,type:"error"})})},b=()=>{_.post("/api/admin/saveSysSettings",t.value).then(e=>{e.data.code===2005?i({showClose:!0,message:"修改失败",type:"error"}):i({type:"success",message:"修改成功"})}).catch(e=>{i({showClose:!0,message:e,type:"error"})})};return g(),(e,a)=>{const d=m("el-input"),n=m("el-form-item"),y=m("el-button"),S=m("el-form");return x(),C("div",h,[s(S,{model:l(t),rules:l(c),ref_key:"formDataRef",ref:f,"label-width":"100px",onSubmit:a[3]||(a[3]=E(()=>{},["prevent"]))},{default:o(()=>[s(n,{label:"注册邮箱标题",props:"registerEmailTitle"},{default:o(()=>[s(d,{clearable:"",placeholder:"注册邮箱验证码邮件标题",modelValue:l(t).registerEmailTitle,"onUpdate:modelValue":a[0]||(a[0]=r=>l(t).registerEmailTitle=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),s(n,{label:"注册邮箱内容",props:"registerEmailContent"},{default:o(()=>[s(d,{clearable:"",placeholder:"注册邮箱验证码邮件内容",modelValue:l(t).registerEmailContent,"onUpdate:modelValue":a[1]||(a[1]=r=>l(t).registerEmailContent=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),s(n,{label:"初始空间大小",props:"useInitUserSpace"},{default:o(()=>[s(d,{clearable:"",placeholder:"初始空间大小",modelValue:l(t).userInitSpace,"onUpdate:modelValue":a[2]||(a[2]=r=>l(t).userInitSpace=r),modelModifiers:{trim:!0}},{suffix:o(()=>[p("GB")]),_:1},8,["modelValue"])]),_:1}),s(n,{style:{float:"right"}},{default:o(()=>[s(y,{type:"primary",onClick:b},{default:o(()=>[p("保存")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}}),k=V(I,[["__scopeId","data-v-b1b3c498"]]);export{k as default};
